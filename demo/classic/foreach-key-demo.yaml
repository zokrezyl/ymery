widgets:
  # Popup for Foreach-Key demo
  foreach-key-demo-popup:
    type: popup
    data:
      local:
        type: data-tree
        arg:
          metadata:
            name: "Sample Node"
            type: "demo"
            status: "active"
            count: 42
    main-data: local
    body:
      - text: "foreach-key Demo - Displays metadata keys and values"
      - separator
      - text: "Simple form (shows values only):"
      - foreach-key: text
      - separator
      - text: "Complex form (shows keys and values):"
      - foreach-key:
          - text: "$key"
          - text: "$value"
          - separator

  # Tab content for Foreach-Key Demo
  foreach-key-demo-tab:
    type: composite
    data:
      local:
        type: data-tree
        arg:
          metadata:
            name: "Sample Node"
            type: "demo"
            status: "active"
            count: 42
    main-data: local
    body:
      # Upper part: Button to open popup
      - button:
          label: "Open Foreach-Key Demo Popup"
          body: foreach-key-demo-popup
      - separator
      - text: "Local Data Tree:"
      # Lower part: Tree view of local data
      - child:
          size: [0, 300]
          border: true
          body:
            - builtin.tree-view:
