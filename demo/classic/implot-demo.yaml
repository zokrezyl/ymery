widgets:
  # Popup for ImPlot demo (used from Popups tab)
  implot-demo-popup:
    type: popup
    data:
      kernel:
        type: kernel
    main-data: kernel
    body:
      - implot-demo-content:

  # Reusable content for both tab and popup (inherits data from parent)
  implot-demo-content:
    type: composite
    body:
      - text: "Implot Waveform Demo"
      - separator
      - implot:
          label: "Waveforms"
          body:
            - implot-layer:
                label: "Sine"
              data-path: /providers/waveform-st/available/sine/0
            - implot-layer:
                label: "Square"
              data-path: /providers/waveform-st/available/square/0
            - implot-layer:
                label: "Triangle"
              data-path: /providers/waveform-st/available/triangle/0

  # Tab content - shows demo content directly
  implot-demo-tab:
    type: composite
    data:
      kernel:
        type: kernel
    main-data: kernel
    body:
      - implot-demo-content:
      - separator
      - text: "Local Data Tree (Kernel):"
      - child:
          size: [0, 300]
          border: true
          body:
            - data-path: $kernel
              builtin.tree-view:

  # Button for Popups tab
  implot-demo-button:
    type: composite
    body:
      - button:
          label: "Open ImPlot Demo Popup"
          body: implot-demo-popup
