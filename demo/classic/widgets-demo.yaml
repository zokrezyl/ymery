widgets:
  # Helper for recursive tree display
  tree-recursive:
    type: composite
    body:
      - foreach-child:
          - tree-node:
              body: tree-recursive

  # Helper for recursive collapsing header
  collapsing-header-recursive:
    type: composite
    body:
      - foreach-child:
          - collapsing-header:
              body: collapsing-header-recursive

  # Helper for recursive menu
  menu-recursive:
    type: composite
    body:
      - foreach-child:
          - menu:
              body: menu-recursive

  # Popup for Widgets demo (used from Popups tab)
  widgets-demo-popup:
    type: popup
    data:
      local:
        type: data-tree
        arg:
          children:
            text-single:
              metadata:
                label: "Single dynamic text value"
            text-dict:
              metadata:
                label: "Text Dict"
              children:
                first:
                  metadata:
                    label: "First text"
                second:
                  metadata:
                    label: "Second text"
                third:
                  metadata:
                    label: "Third text"
            tree-single:
              metadata:
                label: "Single Tree Node"
            input-text:
              metadata:
                label: "Editable text"
            input-int:
              metadata:
                label: "42"
            slider-int:
              metadata:
                label: "50"
            slider-float:
              metadata:
                label: "0.5"
            combo:
              metadata:
                label: "Option A"
            checkbox:
              metadata:
                label: "True"
    main-data: local
    body:
      - widgets-demo-content:

  # Reusable content for both tab and popup (inherits data from parent)
  widgets-demo-content:
    type: composite
    body:
      - text: "WIDGET SYSTEM COMPREHENSIVE DEMO"
      - separator
      - text: "Each section shows: Static, Dynamic Single, Dynamic Dict"
      - separator
      # Text Demos
      - collapsing-header:
          label: "Text Widgets"
          body:
            - separator-text: "TEXT WIDGET DEMOS"
            - collapsing-header:
                label: "Text - Static"
                flags: [default-open]
                body:
                  - text: "This is static text"
            - collapsing-header:
                label: "Text - Dynamic Single Value"
                body:
                  - data-path: text-single
                    text:
            - data-path: text-dict
              collapsing-header:
                label: "Text - Dynamic Dict (renders keys)"
                body:
                  foreach-child:
                    - text
      # Button Demos
      - collapsing-header:
          label: "Button Widgets"
          body:
            - separator-text: "BUTTON WIDGET DEMOS"
            - collapsing-header:
                label: "Button - Static"
                flags: [default-open]
                body:
                  - button:
                      label: "Static Button"
            - collapsing-header:
                label: "Button - With Red Style"
                body:
                  - button:
                      label: "Red Button"
                      style:
                        button: [0.8, 0.1, 0.1, 1.0]
                        button-hovered: [1.0, 0.2, 0.2, 1.0]
                        button-active: [0.6, 0.05, 0.05, 1.0]
      # Tree Node Demos
      - collapsing-header:
          label: "Tree Node Widgets"
          body:
            - separator-text: "TREE NODE WIDGET DEMOS"
            - collapsing-header:
                label: "TreeNode - Static"
                flags: [default-open]
                body:
                  - tree-node:
                      label: "Static Tree Node"
                      body:
                        - text: "Content inside static tree node"
            - collapsing-header:
                label: "TreeNode - Dynamic Single Value"
                body:
                  - tree-node:
                      body: tree-recursive
                    data-path: tree-single
      # Input Demos
      - collapsing-header:
          label: "Input Widgets"
          body:
            - separator-text: "INPUT WIDGETS DEMOS"
            - collapsing-header:
                label: "Input Widgets (single values only)"
                flags: [default-open]
                body:
                  - text: "Text Input:"
                  - data-path: input-text
                    input-text:
                  - separator
                  - text: "Integer Input:"
                  - data-path: input-int
                    input-int:
                  - separator
                  - text: "Integer Slider:"
                  - data-path: slider-int
                    slider-int:
                      min: 0
                      max: 100
                  - separator
                  - text: "Float Slider:"
                  - data-path: slider-float
                    slider-float:
                      min: 0.0
                      max: 1.0
                  - separator
                  - text: "Combo:"
                  - data-path: combo
                    combo:
                      items:
                        - Option A
                        - Option B
                        - Option C
                  - separator
                  - text: "Checkbox:"
                  - data-path: checkbox
                    checkbox:

  # Tab content - shows demo content directly
  widgets-demo-tab:
    type: composite
    data:
      local:
        type: data-tree
        arg:
          children:
            text-single:
              metadata:
                label: "Single dynamic text value"
            text-dict:
              metadata:
                label: "Text Dict"
              children:
                first:
                  metadata:
                    label: "First text"
                second:
                  metadata:
                    label: "Second text"
                third:
                  metadata:
                    label: "Third text"
            tree-single:
              metadata:
                label: "Single Tree Node"
            input-text:
              metadata:
                label: "Editable text"
            input-int:
              metadata:
                label: "42"
            slider-int:
              metadata:
                label: "50"
            slider-float:
              metadata:
                label: "0.5"
            combo:
              metadata:
                label: "Option A"
            checkbox:
              metadata:
                label: "True"
    main-data: local
    body:
      - widgets-demo-content:
      - separator
      - text: "Local Data Tree:"
      - child:
          size: [0, 300]
          border: true
          body:
            - builtin.tree-view:

  # Button for Popups tab
  widgets-demo-button:
    type: composite
    body:
      - button:
          label: "Open Widgets Demo Popup"
          body: widgets-demo-popup
